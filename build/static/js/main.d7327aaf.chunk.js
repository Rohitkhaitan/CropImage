(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){e.exports=a(239)},109:function(e,t,a){},110:function(e,t,a){},203:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(15),l=a.n(r),o=(a(109),a(35)),s=a(36),c=a(39),p=a(37),m=a(40),h=a(93),d=a(16),g=(a(110),a(5)),u=a.n(g),f=a(25),E=a(102),w=a.n(E),b=a(99),v=a.n(b),y=a(100),C=a.n(y),S=a(55),k=a.n(S),x=a(98),I=a.n(x),O=a(52),R=a.n(O),j=a(54),N=a.n(j),_=a(38),D=a.n(_),L=a(101),U=a.n(L),T=a(56),A=a.n(T),B=a(57),z=a.n(B),P=a(60),M=a.n(P),Q=a(58),X=a.n(Q),F=a(59),G=a.n(F),J=a(103),q=a(27),H=a.n(q),K=(a(114),a(26)),W=a.n(K);a(240),a(115);W.a.initializeApp({apiKey:"AIzaSyA3kl48PAopu6qY1wdXCMTMXc66p-SGeDc",authDomain:"image-480de.firebaseapp.com",databaseURL:"https://image-480de.firebaseio.com",projectId:"image-480de",storageBucket:"image-480de.appspot.com",messagingSenderId:"305796985388",appId:"1:305796985388:web:995d96006fe00922"});var Y=W.a.storage(),V=W.a.database(),Z=a(94),$=a.n(Z),ee=a(53),te=a.n(ee),ae=a(96),ne=a.n(ae),ie=a(97),re=a.n(ie),le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={data:null,list:[1,2],url:"",bookmark_name:"",grid:4,image:"",name:"",image_list:[]},a.handleUpload=function(){var e=a.state,t=e.cropResult1,n=e.cropResult2,i=e.cropResult3,r=e.cropResult4;console.log(a.state.image_list),[[t,a.cropper1.props.name],[n,a.cropper2.props.name],[i,a.cropper3.props.name],[r,a.cropper4.props.name]].map(function(e,t){var n=e[0].replace(/^data:image\/[a-z]+;base64,/,"");return Y.ref("images/".concat(e[1])).putString(n,"base64",{contentType:"image/jpg"}).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);a.setState({progress:t})},function(e){console.log(e)},function(){Y.ref("images").child("".concat(e[1])).getDownloadURL().then(function(e){V.ref("image_url").push(e),a.setState({data:null})})}),!0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.ref("image_url").on("child_added",function(t){e.setState({image_list:[].concat(Object(J.a)(e.state.image_list),[t.val()])})})}},{key:"handleChanges",value:function(e){var t=this,a=new FileReader;this.setState({image:e.target.files[0]}),this.setState({name:e.target.files[0].name}),console.log("img",e.target.files[0]),a.readAsDataURL(e.target.files[0]),a.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){var e=this.height,n=this.width;return 1024!==e||1024!==n?(alert("Uploaded image pixel mismatch."),console.log(document.getElementsByClassName("image")),!1):(t.setState({data:a.src}),!0)}}}},{key:"_crop",value:function(){}},{key:"cropImage1",value:function(){"undefined"!==typeof this.cropper1.getCroppedCanvas()&&this.setState({cropResult1:this.cropper1.getCroppedCanvas({width:365,height:212,fillColor:"#fff",imageSmoothingEnabled:!1,imageSmoothingQuality:"high"}).toDataURL()})}},{key:"cropImage2",value:function(){"undefined"!==typeof this.cropper2.getCroppedCanvas()&&this.setState({cropResult2:this.cropper2.getCroppedCanvas({width:365,height:450,fillColor:"#fff",imageSmoothingEnabled:!1,imageSmoothingQuality:"high"}).toDataURL()})}},{key:"cropImage3",value:function(){"undefined"!==typeof this.cropper3.getCroppedCanvas()&&this.setState({cropResult3:this.cropper3.getCroppedCanvas({width:380,height:380,fillColor:"#fff",imageSmoothingEnabled:!1,imageSmoothingQuality:"high"}).toDataURL()})}},{key:"cropImage4",value:function(){"undefined"!==typeof this.cropper4.getCroppedCanvas()&&this.setState({cropResult4:this.cropper4.getCroppedCanvas({width:755,height:450,fillColor:"#fff",imageSmoothingEnabled:!1,imageSmoothingQuality:"high"}).toDataURL()})}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("div",{className:t.root},i.a.createElement("input",{className:"image",type:"file",accept:".jpg,.jpeg.,.gif,.png",onChange:function(t){e.handleChanges.bind(e)(t);var a=e;window.setTimeout(function(){a.cropImage1.bind(a)(),a.cropImage2.bind(a)(),a.cropImage3.bind(a)(),a.cropImage4.bind(a)()},500)}}),null!==this.state.data&&i.a.createElement("div",null,i.a.createElement("div",{style:{paddingTop:"50px",display:"block"}},i.a.createElement(H.a,{name:"365x212 ".concat(this.state.name),ref:function(t){e.cropper1=t},src:this.state.data,style:{height:250,width:250},preview:".img-preview1",aspectRatio:365/212,guides:!1,crop:this._crop.bind(this)}),i.a.createElement("div",null,i.a.createElement("div",{className:"box",style:{width:"50%",float:"right"}},i.a.createElement("h1",null,"Preview"),i.a.createElement("div",{className:"img-preview1",style:{width:"100%",float:"left",height:300}})),i.a.createElement("div",{className:"box",style:{width:"50%",float:"right"}},i.a.createElement("h1",null,i.a.createElement("span",null,"Crop"),i.a.createElement("button",{onClick:this.cropImage1.bind(this),style:{float:"right"}},"Crop Image")),i.a.createElement("img",{style:{width:365,height:212},src:this.state.cropResult1,alt:"cropped_image"})))),i.a.createElement("div",{style:{paddingTop:"450px",display:"block"}},i.a.createElement(H.a,{name:"365x450 ".concat(this.state.name),ref:function(t){e.cropper2=t},src:this.state.data,style:{height:250,width:250},preview:".img-preview2",aspectRatio:365/450,guides:!1,crop:this._crop.bind(this)}),i.a.createElement("div",null,i.a.createElement("div",{className:"box",style:{width:"50%",float:"right"}},i.a.createElement("h1",null,"Preview"),i.a.createElement("div",{className:"img-preview2",style:{width:"100%",float:"left",height:300}})),i.a.createElement("div",{className:"box",style:{width:"50%",float:"right"}},i.a.createElement("h1",null,i.a.createElement("span",null,"Crop"),i.a.createElement("button",{onClick:this.cropImage2.bind(this),style:{float:"right"}},"Crop Image")),i.a.createElement("img",{style:{width:365,height:450},src:this.state.cropResult2,alt:"cropped_image"})))),i.a.createElement("div",{style:{paddingTop:"580px",display:"block"}},i.a.createElement(H.a,{name:"380x380 ".concat(this.state.name),ref:function(t){e.cropper3=t},src:this.state.data,style:{height:250,width:250},preview:".img-preview3",aspectRatio:1,guides:!1,crop:this._crop.bind(this)}),i.a.createElement("div",null,i.a.createElement("div",{className:"box",style:{width:"50%",float:"right"}},i.a.createElement("h1",null,"Preview"),i.a.createElement("div",{className:"img-preview3",style:{width:"100%",float:"left",height:300}})),i.a.createElement("div",{className:"box",style:{width:"50%",float:"right"}},i.a.createElement("h1",null,i.a.createElement("span",null,"Crop"),i.a.createElement("button",{onClick:this.cropImage3.bind(this),style:{float:"right"}},"Crop Image")),i.a.createElement("img",{style:{width:380,height:380},src:this.state.cropResult3,alt:"cropped_image"})))),i.a.createElement("div",{style:{paddingTop:"500px",display:"block"}},i.a.createElement(H.a,{name:"755x450 ".concat(this.state.name),ref:function(t){e.cropper4=t},src:this.state.data,style:{height:250,width:250},preview:".img-preview4",aspectRatio:755/450,guides:!1,crop:this._crop.bind(this)}),i.a.createElement("div",null,i.a.createElement("div",{className:"box",style:{width:"30%",float:"right"}},i.a.createElement("h1",null,"Preview"),i.a.createElement("div",{className:"img-preview4",style:{width:"100%",float:"left",height:300}})),i.a.createElement("div",{className:"box",style:{width:"70%",float:"right"}},i.a.createElement("h1",null,i.a.createElement("span",null,"Crop"),i.a.createElement("button",{onClick:this.cropImage4.bind(this),style:{float:"right"}},"Crop Image")),i.a.createElement("img",{style:{width:755,height:450},src:this.state.cropResult4,alt:"cropped_image"})))),i.a.createElement("button",{onClick:this.handleUpload.bind(this)},"Upload"),i.a.createElement("button",{onClick:function(){return e.setState({data:null})}},"Clear")),i.a.createElement($.a,{cellHeight:180,className:t.gridList},i.a.createElement(te.a,{key:"Subheader",cols:2,style:{height:"auto"}}),this.state.image_list.map(function(e,a){return i.a.createElement(te.a,{cols:.5,key:a},i.a.createElement("img",{src:e,alt:e}),i.a.createElement(ne.a,{title:"",subtitle:i.a.createElement("span",null,"size: ",e.replace("https://firebasestorage.googleapis.com/v0/b/image-480de.appspot.com/o/images%2F","").substring(0,7)),actionIcon:i.a.createElement(D.a,{className:t.icon},i.a.createElement(re.a,null))}))})))}}]),t}(n.Component),oe=Object(f.withStyles)(function(e){return{root:{},gridList:{},icon:{color:"rgba(255, 255, 255, 0.54)"}}})(le),se=(a(203),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1},a.handleDrawerOpen=function(){a.setState({open:!a.state.open})},a.handleDrawerClose=function(){a.setState({open:!1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,a=this.props.classes;return i.a.createElement("div",{className:a.root},i.a.createElement(I.a,null),i.a.createElement(v.a,{position:"fixed",className:u()(a.appBar)},i.a.createElement(C.a,null,i.a.createElement(D.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:u()(a.menuButton)},i.a.createElement(U.a,null)),i.a.createElement(R.a,{variant:"h6",color:"inherit",noWrap:!0},"Crop Images List"))),i.a.createElement(w.a,{variant:"permanent",className:u()(a.drawer,(e={},Object(d.a)(e,a.drawerOpen,this.state.open),Object(d.a)(e,a.drawerClose,!this.state.open),e)),classes:{paper:u()((t={},Object(d.a)(t,a.drawerOpen,this.state.open),Object(d.a)(t,a.drawerClose,!this.state.open),t))},open:this.state.open},i.a.createElement("div",{className:a.toolbar}),i.a.createElement(N.a,null),i.a.createElement(k.a,null,["Inbox","Starred","Send email","Drafts"].map(function(e,t){return i.a.createElement(A.a,{button:!0,key:e},i.a.createElement(z.a,null,t%2===0?i.a.createElement(X.a,null):i.a.createElement(G.a,null)),i.a.createElement(M.a,{primary:e}))})),i.a.createElement(N.a,null),i.a.createElement(k.a,null,["All mail","Trash","Spam"].map(function(e,t){return i.a.createElement(A.a,{button:!0,key:e},i.a.createElement(z.a,null,t%2===0?i.a.createElement(X.a,null):i.a.createElement(G.a,null)),i.a.createElement(M.a,{primary:e}))}))),i.a.createElement("main",{className:a.content},i.a.createElement("div",{className:a.toolbar}),i.a.createElement(oe,null)))}}]),t}(n.Component)),ce=Object(f.withStyles)(function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(d.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:7*e.spacing.unit+1},e.breakpoints.up("sm"),{width:9*e.spacing.unit+1}),toolbar:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:3*e.spacing.unit}}},{withTheme:!0})(se);l.a.render(i.a.createElement(ce,null),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.d7327aaf.chunk.js.map